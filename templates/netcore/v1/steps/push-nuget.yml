# This is a template for creating a nuget based on .NET Core
# Based on information at https://docs.microsoft.com/en-us/azure/devops/pipelines/process/templates?view=vsts

parameters:
  nuGetFeedType: 'internal' # internal or external
  publishVstsFeed: '' # Required for internal. A guid
  publishFeedCredentials: '' # Required for external. A service connection.
  number: 1

steps:
- task: DotNetCoreCLI@2
  displayName: 'Nexus ${{parameters.number}}> dotnet push to internal nuget feed'
  continueOnError: true
  inputs:
    command: push
    packagesToPush: '$(Build.ArtifactStagingDirectory)/*.nupkg;!$(Build.ArtifactStagingDirectory)/*.symbols.nupkg'
    nuGetFeedType: ${{parameters.nuGetFeedType}}
    publishFeedCredentials: ${{publishFeedCredentials}}
    publishVstsFeed: ${{parameters.publishVstsFeed}}